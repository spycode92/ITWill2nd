<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itwillbs.spring_test3.member.MemberMapper">
	<!-- member 테이블 전체 목록 조회 - SELECT -->
	<select id="selectMemberList" resultType="com.itwillbs.spring_test3.member.Member">
		SELECT
			id,
			name
		FROM
			member
	</select>
	
	<!-- 1개의 Member 엔티티에 저장된 데이터 추가 - INSERT -->
	<insert id="insertMember">
		<selectKey keyProperty="id" resultType="long" order="BEFORE">
			SELECT IFNULL(MAX(id) + 1, 0) -- MySQL 에서 null 값 처리
			FROM member
		</selectKey>
		INSERT
		INTO member(id, name)
		VALUES (#{id}, #{name})
	</insert>
</mapper>


















